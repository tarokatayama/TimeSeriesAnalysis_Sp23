getwd()
knitr::opts_chunk$set(echo = TRUE)
cars
cars
summary(cars)
cars$speed
knitr::opts_chunk$set(echo = TRUE)
library(lubridate)
library(ggplot2)
#check which folder is your current directory using function getwd()
getwd()
raw_inflow_data <- read.table(file="./Data/inflowtimeseries.txt",header=FALSE,skip=0)
View(raw_inflow_data)
knitr::opts_chunk$set(echo = TRUE)
library(lubridate)
library(ggplot2)
#check which folder is your current directory using function getwd()
getwd()
raw_inflow_data <- read.table(file="./Data/inflowtimeseries.txt",header=FALSE,skip=0)
View(raw_inflow_data)
#If you want specific columns just trim the table
raw_inflow_data <- raw_inflow_data[,1:5] #the space before the comma means you want all rows
View(raw_inflow_data)
View(raw_inflow_data)
#check which folder is your current directory using function getwd()
getwd()
raw_inflow_data <- read.table(file="./Data/inflowtimeseries.txt",header=FALSE,skip=0)
#If you want specific columns just trim the table
raw_inflow_data <- raw_inflow_data[,1:5] #the space before the comma means you want all rows
#and 1:5 means all columns from 1 to 5
nhydro <- ncol(raw_inflow_data)-2
View(raw_inflow_data)
nobs <- nrow(raw_inflow_data)
#If your file does not have header like this one you can add column names after creating the data frame
colnames(raw_inflow_data)=c("Month","Year", "HP1", "HP2","HP3")
#Checking data
head(raw_inflow_data)
str(raw_inflow_data)
#using package lubridate
my_date <- paste(raw_inflow_data[,1],raw_inflow_data[,2],sep="-")
my_date <- my(my_date)  #function my from package lubridate
head(my_date)
#add that to inflow_data
inflow_data <- cbind(my_date,raw_inflow_data[,3:5])
View(inflow_data)
head(inflow_data)
format(my_date[1],format="%y-%m")
format(my_date[1],format="%Y-%m")
format(my_date[1],format="%Y-%b")
format(my_date[1],format="%Y-%m")
format(my_date[1],format="%Y-%b")
format(my_date[1],format="%y-%m")
format(my_date[1],format="%Y-%m")
format(my_date[1],format="%Y-%b")
#Graph 1: Plot the series for HP1
plot(inflow_data[,"HP1"]) # note that this do not generate a nice plot
plot(inflow_data[,"HP1"],type="l") #The type "l" tells you want a line plot check help(plot)
plot(inflow_data[,"HP1"],type="l",col="blue") #Change the color of the series
plot(inflow_data[,"HP1"],type="l",col="blue",ylab="Inflow [m3/s]")
plot(inflow_data[,"HP1"],type="l",col="blue",ylab="Inflow [m3/s]",main="Historical Inflow Data for HP1")
#Additional - Suppose you want to add a line with the mean
abline(h=mean(inflow_data[,"HP1"]),col="red")
plot(inflow_data[,"HP1"],type="l",col="blue",ylab="Inflow [m3/s]")
lines(inflow_data[,"HP2"],col="red") #Note if you use plot you generate a new graph
#no need to specify type in lines() function
title(main="Infow Series for HP1 and HP2")
#If you want to add legend
legend("topright",legend=c("HP1","HP2"), lty=c("solid","solid"),col=c("blue","red"))
plot(inflow_data[,"HP1"],type="l",col="blue",ylab="Inflow [m3/s]",main="Historical Inflow Data for HP1")
#Additional - Suppose you want to add a line with the mean
abline(h=mean(inflow_data[,"HP1"]),col="red")
#using package ggplot2
ggplot(inflow_data, aes(x=my_date, y=HP1)) +
geom_line(color="blue")
#adding two time series to the same plot
ggplot(inflow_data, aes(x=my_date, y=Inflow)) +
geom_line(aes(y=HP1,col="HP1")) +
geom_line(aes(y=HP2,col="HP2")) +
xlab("Time") +
labs(color="Reservoir")
#using package ggplot2
ggplot(inflow_data, aes(x=my_date, y=HP1)) +
geom_line(color="blue")
#adding two time series to the same plot
ggplot(inflow_data, aes(x=my_date, y=Inflow)) +
geom_line(aes(y=HP1,col="HP1")) +
geom_line(aes(y=HP2,col="HP2")) +
xlab("Time") +
labs(color="Reservoir")
#Graph 3: Simple Histogram
hist(inflow_data[,"HP1"])
hist(inflow_data[,"HP1"],breaks=30,col="gray")  #increase number of bars with breaks input
#Graph 4: Scatter Plot of HP1 and HP2
plot(inflow_data[,"HP1"],inflow_data[,"HP2"])
#using package ggplot2
ggplot(inflow_data, aes(x=my_date, y=HP1)) +
geom_line(color="blue")
#adding two time series to the same plot
ggplot(inflow_data, aes(x=my_date, y=Inflow)) +
geom_line(aes(y=HP1,col="HP1")) +
geom_line(aes(y=HP2,col="HP2")) +
xlab("Time") +
labs(color="Reservoir")
ts_inflow_data <- ts(inflow_data[,2:(2+nhydro-1)]) #note that we are only transforming columns with inflow data, not the date columns
ts_inflow_data
acf(ts_inflow_data[,1])
